import { storage } from "./storage";

export async function seedData() {
  const now = new Date();
  const tomorrow = new Date(now.getTime() + 24 * 60 * 60 * 1000);
  const nextWeek = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);
  const nextMonth = new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000);

  const mockMarkets = [
    {
      question: "Will Bitcoin reach $150,000 by end of 2025?",
      description: "Market resolves YES if Bitcoin (BTC) trades at or above $150,000 on any major exchange by December 31, 2025, 23:59:59 UTC.",
      category: "Crypto",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567890",
      yesProbability: "0.62",
      yesPrice: "0.62",
      noPrice: "0.38",
      volume24h: "2845000",
      totalVolume: "15400000",
      liquidity: "5200000",
      tradersCount: 1247,
      closingTime: nextMonth,
      isFeatured: true,
      resolutionSource: "chainlink",
    },
    {
      question: "Will Donald Trump win the 2024 US Presidential Election?",
      description: "Market resolves to YES if Donald Trump is declared the winner of the 2024 US Presidential Election by major news outlets.",
      category: "Politics",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567891",
      yesProbability: "0.48",
      yesPrice: "0.48",
      noPrice: "0.52",
      volume24h: "8920000",
      totalVolume: "42300000",
      liquidity: "12800000",
      tradersCount: 3841,
      closingTime: new Date("2024-11-05T23:59:59Z"),
      isFeatured: true,
      resolutionSource: "uma",
    },
    {
      question: "Will Manchester City win the Premier League 2024-25?",
      description: "Resolves YES if Manchester City FC wins the 2024-25 Premier League season.",
      category: "Sports",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567892",
      yesProbability: "0.71",
      yesPrice: "0.71",
      noPrice: "0.29",
      volume24h: "945000",
      totalVolume: "6700000",
      liquidity: "2100000",
      tradersCount: 892,
      closingTime: new Date("2025-05-25T23:59:59Z"),
      isFeatured: true,
      resolutionSource: "api",
    },
    {
      question: "Will the Federal Reserve cut interest rates in Q1 2025?",
      description: "Market resolves YES if the Federal Reserve announces any interest rate cut between January 1 and March 31, 2025.",
      category: "Economy",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567893",
      yesProbability: "0.35",
      yesPrice: "0.35",
      noPrice: "0.65",
      volume24h: "1240000",
      totalVolume: "8900000",
      liquidity: "3400000",
      tradersCount: 1523,
      closingTime: new Date("2025-03-31T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "chainlink",
    },
    {
      question: "Will Ethereum's next upgrade launch before July 2025?",
      description: "Resolves YES if Ethereum's next major network upgrade goes live on mainnet before July 1, 2025.",
      category: "Crypto",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567894",
      yesProbability: "0.58",
      yesPrice: "0.58",
      noPrice: "0.42",
      volume24h: "675000",
      totalVolume: "3200000",
      liquidity: "1800000",
      tradersCount: 643,
      closingTime: new Date("2025-07-01T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "manual",
    },
    {
      question: "Will Apple announce a foldable iPhone in 2025?",
      description: "Market resolves YES if Apple officially announces a foldable iPhone model during any event in 2025.",
      category: "Entertainment",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567895",
      yesProbability: "0.23",
      yesPrice: "0.23",
      noPrice: "0.77",
      volume24h: "384000",
      totalVolume: "1900000",
      liquidity: "720000",
      tradersCount: 421,
      closingTime: new Date("2025-12-31T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "uma",
    },
    {
      question: "Will inflation in the US drop below 2% by June 2025?",
      description: "Resolves YES if the US Consumer Price Index (CPI) year-over-year inflation rate falls below 2.0% in any month before July 1, 2025.",
      category: "Economy",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567896",
      yesProbability: "0.41",
      yesPrice: "0.41",
      noPrice: "0.59",
      volume24h: "892000",
      totalVolume: "5600000",
      liquidity: "2300000",
      tradersCount: 1084,
      closingTime: new Date("2025-06-30T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "chainlink",
    },
    {
      question: "Will SpaceX successfully land Starship on Mars by 2026?",
      description: "Market resolves YES if SpaceX achieves a controlled landing of Starship on the Martian surface by December 31, 2026.",
      category: "Entertainment",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567897",
      yesProbability: "0.18",
      yesPrice: "0.18",
      noPrice: "0.82",
      volume24h: "523000",
      totalVolume: "2400000",
      liquidity: "980000",
      tradersCount: 567,
      closingTime: new Date("2026-12-31T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "manual",
    },
    {
      question: "Will Real Madrid win the Champions League 2024-25?",
      description: "Resolves YES if Real Madrid wins the UEFA Champions League final in 2025.",
      category: "Sports",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567898",
      yesProbability: "0.44",
      yesPrice: "0.44",
      noPrice: "0.56",
      volume24h: "712000",
      totalVolume: "4100000",
      liquidity: "1600000",
      tradersCount: 789,
      closingTime: new Date("2025-05-31T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "api",
    },
    {
      question: "Will OpenAI release GPT-5 before December 2025?",
      description: "Market resolves YES if OpenAI officially releases a model called GPT-5 or equivalent successor to GPT-4 before January 1, 2026.",
      category: "Entertainment",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567899",
      yesProbability: "0.67",
      yesPrice: "0.67",
      noPrice: "0.33",
      volume24h: "1560000",
      totalVolume: "9800000",
      liquidity: "3900000",
      tradersCount: 2134,
      closingTime: new Date("2025-12-31T23:59:59Z"),
      isFeatured: true,
      resolutionSource: "uma",
    },
    {
      question: "Will US GDP growth exceed 3% in Q1 2025?",
      description: "Resolves YES if the US GDP growth rate for Q1 2025 is above 3.0% as reported by the Bureau of Economic Analysis.",
      category: "Economy",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567800",
      yesProbability: "0.52",
      yesPrice: "0.52",
      noPrice: "0.48",
      volume24h: "634000",
      totalVolume: "3800000",
      liquidity: "1500000",
      tradersCount: 923,
      closingTime: new Date("2025-04-30T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "chainlink",
    },
    {
      question: "Will Kamala Harris run for President in 2028?",
      description: "Market resolves YES if Kamala Harris officially announces candidacy for the 2028 US Presidential Election.",
      category: "Politics",
      marketType: "binary",
      outcomes: ["Yes", "No"],
      creatorAddress: "0x1234567890123456789012345678901234567801",
      yesProbability: "0.73",
      yesPrice: "0.73",
      noPrice: "0.27",
      volume24h: "445000",
      totalVolume: "2100000",
      liquidity: "890000",
      tradersCount: 512,
      closingTime: new Date("2027-12-31T23:59:59Z"),
      isFeatured: false,
      resolutionSource: "uma",
    },
  ];

  for (const market of mockMarkets) {
    await storage.createMarket(market as any);
  }

  const mockUserStats = [
    {
      userAddress: "0xLeader1234567890123456789012345678901234",
      totalPnL: "145000",
      pnL24h: "8500",
      pnL7d: "23000",
      pnL30d: "67000",
      totalVolume: "892000",
      marketsTraded: 47,
      winRate: "68.50",
      roi: "245.30",
      badges: ["Top Trader", "Early Adopter", "Whale"],
    },
    {
      userAddress: "0xTrader2345678901234567890123456789012345",
      totalPnL: "98000",
      pnL24h: "5200",
      pnL7d: "18000",
      pnL30d: "45000",
      totalVolume: "645000",
      marketsTraded: 32,
      winRate: "71.20",
      roi: "198.40",
      badges: ["Consistent Winner", "Politics Expert"],
    },
    {
      userAddress: "0xWhale3456789012345678901234567890123456",
      totalPnL: "87500",
      pnL24h: "3100",
      pnL7d: "15000",
      pnL30d: "38000",
      totalVolume: "1200000",
      marketsTraded: 28,
      winRate: "64.30",
      roi: "156.70",
      badges: ["Whale", "High Volume"],
    },
    {
      userAddress: "0xPro4567890123456789012345678901234567890",
      totalPnL: "76200",
      pnL24h: "4800",
      pnL7d: "12000",
      pnL30d: "32000",
      totalVolume: "523000",
      marketsTraded: 41,
      winRate: "69.80",
      roi: "187.20",
      badges: ["Pro Trader", "Crypto Specialist"],
    },
    {
      userAddress: "0xGuru5678901234567890123456789012345678901",
      totalPnL: "65000",
      pnL24h: "2900",
      pnL7d: "9500",
      pnL30d: "28000",
      totalVolume: "445000",
      marketsTraded: 35,
      winRate: "66.70",
      roi: "172.50",
      badges: ["Market Maker", "Sports Guru"],
    },
  ];

  for (const stats of mockUserStats) {
    await storage.createUserStats(stats as any);
  }

  const mockProposals = [
    {
      proposerAddress: "0xDAO1234567890123456789012345678901234567",
      title: "Reduce Protocol Fee from 2% to 1.5%",
      description: "Proposal to reduce the protocol trading fee from 2% to 1.5% to increase trading volume and attract more users to the platform. This will make OracleMarket more competitive with other prediction markets.",
      forVotes: "8500000",
      againstVotes: "2100000",
      status: "active",
      endTime: nextWeek,
    },
    {
      proposerAddress: "0xDAO2345678901234567890123456789012345678",
      title: "Add Support for Multi-Outcome Markets",
      description: "Implement support for markets with more than 2 outcomes (e.g., 'Which team will win the World Cup?'). This will expand market creation possibilities and attract more traders.",
      forVotes: "6200000",
      againstVotes: "3800000",
      status: "active",
      endTime: new Date(now.getTime() + 5 * 24 * 60 * 60 * 1000),
    },
    {
      proposerAddress: "0xDAO3456789012345678901234567890123456789",
      title: "Increase Staking Rewards APY",
      description: "Increase the staking rewards APY from current rates to attract more token holders to stake their ORACLE tokens. Proposed new rates: Bronze 8%, Silver 12%, Gold 18%, Platinum 25%.",
      forVotes: "4100000",
      againstVotes: "5900000",
      status: "active",
      endTime: new Date(now.getTime() + 4 * 24 * 60 * 60 * 1000),
    },
  ];

  for (const proposal of mockProposals) {
    await storage.createProposal(proposal as any);
  }

  console.log("✅ Seeded database with mock data");
  console.log(`- ${mockMarkets.length} markets created`);
  console.log(`- ${mockUserStats.length} user stats created`);
  console.log(`- ${mockProposals.length} proposals created`);
}
